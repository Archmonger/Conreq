{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#welcome-to-the-conreq-documentation","title":"Welcome to the Conreq Documentation","text":"<p>Conreq is an extensible self-hosted web platform built around Django. Read through the docs to learn how to set up Conreq, or how to contribute to the Conreq repository!</p> <p>Want to join the community or have a question? Chat with us on Discord or create a post on GitHub Discussions!</p>"},{"location":"#communities","title":"Communities","text":"<p> Discord  Reddit  GitHub Discussions</p>"},{"location":"configure/env_vars/","title":"Environment Variables","text":"<p>Environment variables can be used to customize core Conreq features at boot.</p>"},{"location":"configure/env_vars/#environment-variables-file","title":"Environment Variables File","text":"<p>Editing Conreq's <code>settings.env</code> file is the recommended way of adding environment variables.</p> <p>Here are some common locations of this file.</p> Operating System Location Manually Run (Windows/Linux/MacOS) <code>&lt;CONREQ_DIR&gt;/data/settings.env</code> Unraid Community Apps <code>&lt;APP_DATA_DIR&gt;/conreq/settings.env</code> Docker <code>/config/settings.env</code>"},{"location":"configure/env_vars/#system-variables","title":"System Variables","text":"<p>Variables can alternatively be set through the system's environment variables.</p> Operating System Location Manually Run (Windows/Linux/MacOS) Varies depending on operating system. Unraid Docker Through a docker's <code>Edit</code> menu, click <code>Add another Path, Port, Variable, Label, or Device</code>, and then under <code>Config Type</code> select <code>Variable</code>. Docker Add as a <code>-e</code> parameter via command line, or using the environment field in your compose file. <p>Note: System environment variables take priority over those stored in <code>settings.env</code>.</p>"},{"location":"configure/env_vars/#available-variables","title":"Available Variables","text":"<pre><code># General Settings\nTZ = America/Los_Angeles                # default: UTC (Timezone for log files, in \"TZ Database\" format)\nBASE_URL = requests                     # default: None\nAPP_NAME = RequestCentral               # default: Conreq\nAPP_DESCRIPTION = Get yo stuff!         # default: Content Requesting\nARR_REFRESH_INTERNAL = */15             # default: */1 (Cron minutes for Sonarr/Radarr library refresh)\nLOG_LEVEL = ERROR                       # default: WARNING\nCONREQ_ENV_PREFIX = CONREQ              # default: None\n\n# Data Storage\nDATA_DIR = /example/directory           # default: /config (Defaults to \"data\" outside of docker)\nDB_ENGINE = MYSQL                       # default: SQLITE3\nMYSQL_CONFIG_FILE = /config/mysql.cnf   # default: None\n\n# Security\nSSL_SECURITY = True                     # default: False (True enables advanced SSL security features)\nPWNED_VALIDATOR = False                 # default: True (False disables checking for compromised passwords)\nALLOWED_HOST = 192.168.0.199            # default: * (Allows all hosts)\nDEBUG = False                           # default: False (Disable security features, only enable this during development. Defaults to True outside of docker.)\n\n# Email\nEMAIL_USE_TLS = False                   # default: True\nEMAIL_PORT = 587                        # default: None\nEMAIL_HOST = smtp.gmail.com             # default: None\nEMAIL_HOST_USER = myself@gmail.com      # default: None\nEMAIL_HOST_PASSWORD = dogmemes123       # default: None\n</code></pre>"},{"location":"configure/mysql/","title":"MySQL Database","text":"<ol> <li> <p>Install and run MySQL using your preferred method.</p> </li> <li> <p>Create a file within your Conreq data directory create a MySQL configuration file (<code>mysql.cnf</code>). At minimum you must include the following...</p> <pre><code>[client]\ndatabase = conreq\nuser = db_username\npassword = db_password\nhost = 192.168.86.200\ndefault-character-set = utf8\n</code></pre> <p>Take a look at MySQL's docs for all available parameters.</p> </li> <li> <p>Set your <code>DB_ENGINE</code> variable to <code>MYSQL</code> and your <code>MYSQL_CONFIG_FILE</code> variable to the path to your <code>mysql.cnf</code> file.</p> <p>If using Unraid/Docker, add this as a Docker variable. Otherwise, search \"How to set environment variables in ... Windows 10\"</p> </li> </ol>"},{"location":"configure/organizr/","title":"Organizr Authentication","text":"<ol> <li> <p>Go to <code>Server Settings</code> within Conreq and enable <code>Organizr User Authentication</code></p> </li> <li> <p>Set up a <code>nginx</code> reverse proxy.</p> <p>If you need help with this, join the <code>organizr</code> Discord and post in #groups.</p> </li> <li> <p>In your Conreq block within <code>nginx</code>, add the following...</p> <pre><code># Sets Conreq to be accessible by all Organizr users. Google \"Organizr ServerAuth\" for more details.\nauth_request /auth-4;\n\n# Allows Conreq to log in as an Organizr user\nauth_request_set $auth_user $upstream_http_x_organizr_user;\nproxy_set_header X-WEBAUTH-USER $auth_user;\n\n# Allows Conreq to know the email address of an Organizr user (optional)\nauth_request_set $auth_email $upstream_http_x_organizr_email;\nproxy_set_header X-WEBAUTH-EMAIL $auth_email;\n\n# Allows Conreq to automatically configure Organizr Admins and Co-Admins as Conreq staff members (optional)\nauth_request_set $auth_group $upstream_http_x_organizr_group;\nproxy_set_header X-WEBAUTH-GROUP $auth_group;\n</code></pre> </li> </ol>"},{"location":"configure/static_files/","title":"Custom CSS/JS","text":"<p>Conreq can store and serve any custom files located within your data directory's \"static\" folder.</p> <p>In order to use this to serve custom CSS or JavaScript...</p> <ol> <li>Put a CSS/JS file into <code>DATA_DIR/static/</code></li> <li>Restart Conreq</li> <li>Set your Conreq \"Custom CSS/JS\" to link to the new content, such as <code>/static/my_style.css</code></li> <li>Done!</li> </ol>"},{"location":"configure/webserver/","title":"Built-in Webserver","text":"<p>We use <code>hypercorn</code> as Conreq's production-grade webserver. This webserver can be directly exposed to the internet. For more information beyond what is in this guide, check out the <code>hypercorn</code> documentation.</p> <p>The Conreq webserver can be modified through a <code>hypercorn.toml</code> file.</p> <ol> <li> <p>Create a <code>hypercorn.toml</code> file within your Conreq data directory (such as <code>./conreq/data/hypercorn.toml</code>)</p> </li> <li> <p>Populate this <code>toml</code> file with any property in the <code>hypercorn</code>'s documentation. For example...</p> <pre><code>bind = \"0.0.0.0:5357\"\nh11_max_incomplete_size = 4\nkeep_alive_timeout = 20\nuse_reloader = true\nworkers = 20\n</code></pre> </li> </ol>"},{"location":"contrib/apps/","title":"Create an App Store listing","text":"<p>Work in Progress, Conreq app framework has not been finalized.</p>"},{"location":"contrib/docs/","title":"Updating the Docs","text":"<p>We use MkDocs to create our documentation. For more information beyond what is in this guide, check out the MkDocs Documentation.</p>"},{"location":"contrib/docs/#setting-up-the-environment","title":"Setting Up the Environment","text":"<ol> <li>Install <code>Python 3.x</code></li> <li>Open a terminal at the root of the repository.</li> <li>Type <code>pip install -r requirements.txt</code> to install MkDocs.</li> </ol>"},{"location":"contrib/docs/#starting-the-preview-webserver","title":"Starting the Preview Webserver","text":"<p>MkDocs contains a tool to allow you to preview your documentation changes live! In order to use it...</p> <ol> <li>Open a terminal at the root of the repository.</li> <li>Type <code>cd docs</code> to enter the documentation's source code directory.</li> <li>Type <code>mkdocs serve</code> to start the preview webserver.</li> <li>Navigate to <code>http://127.0.0.1:8000</code> to see the documentation and changes live!</li> </ol>"},{"location":"contrib/docs/#addingediting-a-docs-page","title":"Adding/Editing a Docs Page","text":"<ol> <li>Create a new markdown file within <code>source/docs/</code>, or edit an existing markdown file within this folder.</li> <li>Fill in this file with any markdown text you want!</li> <li>If you made a new file: Add this file to the navigation bar within <code>mkdocs.yml</code>.</li> <li>Commit your changes to your GitHub branch.</li> <li>Submit a GitHub pull request to <code>Archmonger/Conreq:docs</code>.</li> </ol>"},{"location":"develop/build_docker/","title":"Building the Docker","text":""},{"location":"develop/build_docker/#software-required","title":"Software Required","text":"<ul> <li>Install Docker Desktop</li> </ul>"},{"location":"develop/build_docker/#building-the-docker-image","title":"Building the Docker Image","text":"<ol> <li>Pull the repository from GitHub.</li> <li>Open a terminal at the root of the repository.</li> <li>Type <code>docker build . --no-cache -t conreq</code> to build the Docker image.</li> </ol>"},{"location":"develop/creating_apps/","title":"Creating Custom Apps","text":"<p>Work in Progress, Conreq app framework has not been finalized.</p>"},{"location":"develop/run_conreq/","title":"Running Conreq Manually","text":"<p>There are two environments Conreq can exist in: Development and Production.</p> <p>If you intend to edit Conreq's code, then proceed with the Development instructions.</p>"},{"location":"develop/run_conreq/#software-required","title":"Software Required","text":"<ul> <li>Install Python 3.11+<ul> <li>Make sure to select \"Add Python 3.x to PATH\" during installation.</li> <li>Easiest if this is the only version of python on your computer</li> </ul> </li> <li>If using Windows: Install Visual Studio C++ (Within this installer, navigate to C++ Build Tools. Select MSVC and Windows 10 SDK)</li> <li>Optional: Install Visual Studio Code (Any editor would work)</li> </ul>"},{"location":"develop/run_conreq/#creating-a-development-environment","title":"Creating a Development Environment","text":"<ol> <li>Pull the repository from GitHub.</li> <li>Open a terminal as administrator at the root of the repository.</li> <li>If using Windows<ul> <li>Type <code>set-executionpolicy remotesigned</code> and select Yes to All to allow external Python scripts to run on your computer.</li> </ul> </li> <li>Type <code>python -m venv .venv</code> to create a Python virtual environment called <code>.venv</code>.</li> <li>Type <code>./.venv/Scripts/activate</code> to enter the virtual environment.</li> <li>Type <code>pip install -r requirements.txt</code> to install all Python dependencies within the virtual environment.</li> <li>Type <code>python manage.py run_conreq</code> to run the webserver.</li> </ol>"},{"location":"develop/run_conreq/#creating-a-production-environment","title":"Creating a Production Environment","text":"<p>Follow all instructions laid out within Creating a Development Environment, but before running <code>python manage.py run_conreq</code> do the following:</p> <ol> <li>Set your environment variable of <code>DEBUG</code> to <code>false</code>. The method of doing this will vary based on operating system.<ul> <li>Doing this enables a lot of security features.</li> </ul> </li> <li>The webserver is configured with good defaults for most cases. But if you want to configure the webserver see our webserver documentation for more information.</li> <li>Type <code>python manage.py run_conreq</code> to run the webserver.</li> </ol>"},{"location":"install/docker/","title":"Docker","text":"<p>These instructions configure Conreq to run within a Docker.</p> <p>Our dockers are published to both DockerHub and GitHub Container Registry.</p>"},{"location":"install/docker/#docker-compose","title":"Docker Compose","text":"<ol> <li> <p>Create a <code>docker-compose.yml</code> file is located where you want Conreq to run.</p> <code>docker-compose.yml</code> <pre><code>services:\n    conreq:\n        image: ghcr.io/archmonger/conreq:latest # Other tags include `develop` and version numbers (e.g. `0.21.1`)\n        container_name: conreq\n        environment:\n            - PUID=99 # Optional\n            - PGID=100 # Optional\n            - TZ=America/Los_Angeles # If not set, defaults to UTC\n            # Any other Conreq environment variables can also be set here\n        volumes:\n            - ./config:/config # You can replace ./config with the location you want to store Conreq's data.\n        ports:\n            - 7575:7575\n</code></pre> </li> <li> <p>Run <code>docker-compose up -d</code> to start Conreq. The <code>-d</code> flag runs the container in the background.</p> </li> </ol>"},{"location":"install/docker/#docker-run","title":"Docker Run","text":"<ol> <li> <p>Run the following command to start Conreq.</p> <pre><code>docker run -d --name=conreq -e PUID=99 -e PGID=100 -e TZ=America/Los_Angeles -v ./config:/config -p 7575:7575 ghcr.io/archmonger/conreq:latest\n</code></pre> <p>Note: You can replace <code>./config</code> with the location you want to store Conreq's data.</p> <p>Note 2: The <code>-d</code> flag runs the container in the background.</p> </li> </ol>"},{"location":"install/nssm/","title":"Windows NSSM","text":"<p>These instructions configure Non-Sucking Service Manager (NSSM) to automatically start Conreq as a Windows service.</p> <p>A traditional Windows installer is not yet available.</p>"},{"location":"install/nssm/#software-required","title":"Software Required","text":"<ul> <li>Install Python 3.11+<ul> <li>Make sure to select \"Add Python 3.x to PATH\" during installation.</li> <li>Easiest if this is the only version of python on your computer</li> <li>Steps below will not work with NSSM if using the \"Windows App Store\" version of Python.</li> </ul> </li> <li>Install Visual Studio C++ (Within this installer, navigate to C++ Build Tools. Select MSVC and Windows 10 SDK)</li> <li>Download NSSM</li> </ul>"},{"location":"install/nssm/#installation","title":"Installation","text":"<ol> <li>Create the folder <code>C:\\Program Files\\Conreq</code></li> <li>Use this folder to follow steps setting up a Conreq environment, excluding steps involving <code>python manage.py run_conreq</code>.</li> <li>Unzip NSSM in a separate directory where you can permanently keep it (such as <code>C:\\Program Files\\NSSM</code>).</li> <li>Open a terminal within your NSSM directory as administrator.</li> <li>Open NSSM by typing <code>.\\win64\\nssm.exe install Conreq</code></li> <li>Under the Application tab, browse to the path of your Conreq <code>venv</code>.<ul> <li>For example: <code>C:\\Program Files\\Conreq\\.venv\\Scripts\\python.exe</code></li> </ul> </li> <li>Under the Application tab, browse to the path of your Conreq repository.<ul> <li>For example: <code>C:\\Program Files\\Conreq\\</code></li> </ul> </li> <li>Under the Application tab, set \"Arguments\" to <code>manage.py run_conreq</code></li> <li>Click \"Install Service\".</li> <li>In your terminal, type <code>.\\win64\\nssm.exe start Conreq</code>.<ul> <li>You can check to make sure its running as a service by running <code>nssm status Conreq</code></li> </ul> </li> <li>Open any internet browser and navigate to <code>http://127.0.0.1:7575/</code></li> </ol>"}]}